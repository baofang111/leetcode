package shuxue;

/**
 * æ•°å­¦ç›¸å…³ ç®—æ³•é¢˜
 *
 * @summary ShuXueSolution
 * @author: bf
 * @Copyright (c) 2026/1/8, Â© æ‹œè€³ä½œç‰©ç§‘å­¦ï¼ˆä¸­å›½ï¼‰æœ‰é™å…¬å¸
 * @since: 2026/1/8 19:29
 */
public class ShuXueSolution {


    /**
     * 9. å›æ–‡æ•°
     *
     * ç»™ä½ ä¸€ä¸ªæ•´æ•° x ï¼Œå¦‚æœ x æ˜¯ä¸€ä¸ªå›æ–‡æ•´æ•°ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚
     *
     * è¾“å…¥ï¼šx = 121
     * è¾“å‡ºï¼štrue
     *
     * è§£æ³•æ€è·¯ï¼šä¸­é—´çš„å¼€å§‹ å¾€ä¸¤è¾¹èµ° ç„¶ååˆ¤æ–­æ˜¯å¦ç›¸åŒï¼Œæˆ–è€…æ˜¯ åŒæŒ‡é’ˆï¼Œä½¿ç”¨ å·¦å³æŒ‡é’ˆå»éå†
     *
     * è§£æ³•äºŒï¼šä½¿ç”¨ ä¸€åŠæ•°å­—è¿›è¡Œæ¯”å¯¹
     * 12321 ->
     *
     * @param x
     * @return
     */
    public boolean isPalindrome(int x) {
        String s = String.valueOf(x);
        int left = 0;
        int right = s.length() - 1;
        while (left < right) {
            if (s.charAt(left++) != s.charAt(right--)) {
                return false;
            }
        }
        return true;
    }

    /**
     * 66. åŠ ä¸€
     *
     * ç»™å®šä¸€ä¸ªè¡¨ç¤º å¤§æ•´æ•° çš„æ•´æ•°æ•°ç»„ digitsï¼Œå…¶ä¸­ digits[i] æ˜¯æ•´æ•°çš„ç¬¬ i ä½æ•°å­—ã€‚è¿™äº›æ•°å­—æŒ‰ä»å·¦åˆ°å³ï¼Œä»æœ€é«˜ä½åˆ°æœ€ä½ä½æ’åˆ—ã€‚è¿™ä¸ªå¤§æ•´æ•°ä¸åŒ…å«ä»»ä½•å‰å¯¼ 0ã€‚
     *
     * è¾“å…¥ï¼šdigits = [4,3,2,1]
     * è¾“å‡ºï¼š[4,3,2,2]
     * è§£é‡Šï¼šè¾“å…¥æ•°ç»„è¡¨ç¤ºæ•°å­— 4321ã€‚
     * åŠ  1 åå¾—åˆ° 4321 + 1 = 4322ã€‚
     * å› æ­¤ï¼Œç»“æœåº”è¯¥æ˜¯ [4,3,2,2]ã€‚
     *
     * è§£æ³•æ€è·¯ï¼šæˆ‘ä»¬æ·»åŠ  digits çš„æœ€åä¸€ä½ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ < 10 , < 10 ç›´æ¥è¿”å›ï¼Œä¸éœ€è¦å¾€å‰è¿›ä¸€ä½ï¼Œ> 10 ,æˆ‘ä»¬å°±éœ€è¦å°†è¯¥ä½ç½®è®¾ç½®æˆ 0 ï¼Œ
     * ç„¶å ä¸Šä¸€ä½éœ€è¦ è¿›ä½
     * ä¸€å®šè¦ä»åå¾€å‰éå†
     *
     *
     * @param digits
     * @return
     */
    public int[] plusOne(int[] digits) {
        for (int i = digits.length - 1; i >= 0; i--) {
            digits[i] = digits[i] + 1;
            if (digits[i] < 10) {
                return digits;
            }

            // è¿™é‡Œå°±ä»£è¡¨éœ€è¦è¿›ä½äº† digits[i] = 0 digits[i-1] éœ€è¦ +1 ï¼Œåˆå› ä¸ºé¢˜ç›®æ˜¯ +1 æ‰€ä»¥è¿™é‡Œåªè®¾ç½® å³å¯
            digits[i] = 0;
        }

        // è€ƒè™‘å…¨æ˜¯ 9 çš„æƒ…å†µï¼Œèµ°åˆ°è¿™é‡Œï¼Œè‚¯å®šå·²ç»æ˜¯ 99999 çš„æƒ…å†µäº†
        int[] result = new int[digits.length + 1];
        result[0] = 1;
        return result;
    }


    /**
     * 172. é˜¶ä¹˜åçš„é›¶
     *
     * ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œè¿”å› n! ç»“æœä¸­å°¾éš 0 çš„æ•°é‡ã€‚
     *
     * ç¤ºä¾‹ï¼š
     * n = 5
     * 5! = 120
     * è¾“å‡ºï¼š1
     *
     * æ ¸å¿ƒæ€è·¯ï¼š
     * é˜¶ä¹˜æœ«å°¾çš„ 0 æ¥è‡ªå› å­ 10ï¼Œè€Œï¼š
     * 10 = 2 Ã— 5
     *
     * åœ¨ n! ä¸­ï¼š
     * - å› å­ 2 çš„æ•°é‡éå¸¸å¤šï¼ˆ2, 4, 6, 8, ...ï¼‰
     * - å› å­ 5 çš„æ•°é‡ç›¸å¯¹å¾ˆå°‘ï¼ˆ5, 10, 15, 20, 25, ...ï¼‰
     *
     * ğŸ‘‰ èƒ½å½¢æˆå¤šå°‘ä¸ª 10ï¼ˆå³å°¾éš 0ï¼‰ï¼Œå®Œå…¨ç”±â€œå› å­ 5 çš„ä¸ªæ•°â€å†³å®š
     *
     * å¦‚ä½•ç»Ÿè®¡å› å­ 5 çš„æ€»æ•°ï¼Ÿ
     * - æ¯ä¸ª 5 çš„å€æ•°ï¼Œè‡³å°‘è´¡çŒ® 1 ä¸ª 5      â†’ n / 5
     * - æ¯ä¸ª 25 çš„å€æ•°ï¼Œå¤šè´¡çŒ® 1 ä¸ª 5       â†’ n / 25
     * - æ¯ä¸ª 125 çš„å€æ•°ï¼Œå†å¤šè´¡çŒ® 1 ä¸ª 5     â†’ n / 125
     * - ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ° n < 5
     *
     * å› æ­¤ï¼š
     * å°¾éš 0 çš„ä¸ªæ•° = n/5 + n/25 + n/125 + ...
     *
     * æ—¶é—´å¤æ‚åº¦ï¼šO(logâ‚… n)
     * ç©ºé—´å¤æ‚åº¦ï¼šO(1)
     *
     * @param n éè´Ÿæ•´æ•°
     * @return n! ä¸­å°¾éš 0 çš„æ•°é‡
     */
    public int trailingZeroes(int n) {
        int count = 0;
        while (n > 0) {
            n /= 5;
            count += n;
        }
        return count;
    }


    /**
     * 69. x çš„å¹³æ–¹æ ¹
     *
     * ç»™ä½ ä¸€ä¸ªéè´Ÿæ•´æ•° x ï¼Œè®¡ç®—å¹¶è¿”å› x çš„ ç®—æœ¯å¹³æ–¹æ ¹ ã€‚
     * ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™ æ•´æ•°éƒ¨åˆ† ï¼Œå°æ•°éƒ¨åˆ†å°†è¢« èˆå» ã€‚
     *
     * è§£é¢˜æ€è·¯ï¼šæˆ‘ä»¬éœ€è¦æ‰¾çš„æ˜¯ K * K <= x ä¸” ï¼ˆK+1ï¼‰ * ï¼ˆK+1ï¼‰ > x è¿™ä¸ª K å€¼
     * å› ä¸º å°æ•°ä¸èƒ½è¢«èˆå»ï¼Œæ‰€ä»¥ è¿™é‡Œæ˜¯ <=
     *
     * æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ äºŒåˆ†æŸ¥æ‰¾å»å¯»æ‰¾æˆ‘ä»¬çš„ç»“æœ
     *
     * mid * mid ç¬¬ä¸€æ¬¡ > x å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ç»“æœ
     *
     * @param x
     * @return
     */
    public int mySqrt(int x) {
        if (x < 2) {
            return x;
        }

        // æ³¨æ„ left ä» 1 å¼€å§‹ï¼Œä¸ç„¶ mid å¯èƒ½ä¼šå‡ºç° 0
        int left = 1;
        int right = x / 2; // âˆšx ä¸€å®šä¸ä¼šè¶…è¿‡ x/2ï¼ˆx>=2ï¼‰

        while (left <= right) {
            int mid = left + (right - left) / 2;
            if (mid <= x / mid) {
                // mid * mid < x è¿˜éœ€è¦å¾€å‰é¢èµ° mid + 1
                left = mid + 1;
            } else {
                // å†å¾€åå‡ä¸€ä¸‹ å†æ‰¾æ‰¾
                right = mid - 1;
            }
        }

        return right;
    }


    /**
     * 50. Pow(x, n)
     * å®ç° pow(x, n) ï¼Œå³è®¡ç®— x çš„æ•´æ•° n æ¬¡å¹‚å‡½æ•°ï¼ˆå³ï¼Œxn ï¼‰ã€‚
     *
     * è¾“å…¥ï¼šx = 2.00000, n = 10
     * è¾“å‡ºï¼š1024.00000
     *
     * è§£æ³•æ€è·¯ï¼š
     * æˆ‘ä»¬ä½¿ç”¨ ä½è¿ç®—
     * n = 13 = 1101â‚‚
     * 13 = 8 + 4 + 1
     * xÂ¹Â³ = xâ¸ Ã— xâ´ Ã— xÂ¹
     *
     * @param x
     * @param n
     * @return
     */
    public double myPow(double x, int n) {
        long N = n;
        if (n < 0) {
            x = 1 / x;
            N = -N;
        }

        // å¼€å§‹ä½¿ç”¨ä½è¿ç®—è¿›è¡Œè®¡ç®—
        double res = 1.0;

        while (N > 0) {
            // å¦‚æœå½“å‰ N ç»“å°¾æ˜¯ 1 çš„è¯ï¼Œå°±ä»£è¡¨éœ€è¦ * x, ä¸¾ä¸ªä¾‹å­ 2 - 1 == result = 1 * x = 1*2
            if ((N & 1) == 1) {
                res *= x;
            }

            x *= x;

            N >>= 1;
        }
        return res;
    }

}
